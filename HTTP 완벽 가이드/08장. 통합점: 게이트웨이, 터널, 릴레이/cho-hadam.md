# [08장] 통합점: 게이트웨이, 터널, 릴레이

- 게이트웨이   
서로 다른 프로토콜

<br />

## 게이트웨이

게이트웨이는 HTTP 트래픽을 다른 프로토콜로 자동으로 변환하여, HTTP 클라이언트가 다른 프로토콜을 알 필요 없이 서버에 접속할 수 있게 하기도 한다.

### 클라이언트 측 게이트웨이와 서버 측 게이트웨이

> <클라이언트 프로토콜>/<서버 프로토콜>

## 프로토콜 게이트웨이

### HTTP/*: 서버 측 웹 게이트웨이
서버 측 게이트웨이는 클라이언트로부터 HTTP 요청이 원 서버 영역으로 들어오는 시점에 클라이언트 측의 HTTP 요청을 외래 프로토콜로 전환한다.

<br />

## 리소스 게이트웨이

애플리케이션 서버는 HTTP를 통해서 클라이언트와 통신하고 서버 측에 있는 애플리케이션 프로그램에 연결하는 서버 측 게이트웨이다.

`CGI`는 특정 URL에 대한 HTTP 요청에 따라 프로그램을 실행하고, 프로그램의 출력을 수집하고, HTTP 응답으로 회신하는데 웹 서버가 사용하는 표준화된 인터페이스 집합이다.

### 서버 확장 API

웹 개발자가 자신의 모듈을 HTTP와 직접 연결할 수 있는 강력한 인터페이스인 서버 확장 API를 제공하였다.

<br />

## 터널

웹 터널은 HTTP 프로토콜을 지원하지 않는 애플리케이션에 HTTP 애플리케이션을 사용해 접근하는 방법을 제공한다.

### CONNECT로 HTTP 터널 커넥션 맺기

웹 터널은 HTTP의 CONNECT 메서드를 사용하여 커넥션을 맺는다.

**CONNECT 요청**
CONNECT 문법은 시작줄을 제외하고는 다른 HTTP 메서드와 같다.

**CONNECT 응답**
일반적인 HTTP 응답과는 달리 Content-Type 헤더를 포함할 필요는 없다.

### SSL 터널링

터널을 사용하면 SSL 트래픽을 HTTP 커넥션으로 전송하여 80 포트의 HTTP만을 허용하는 방화벽을 통과시킬 수 있다.

터널은 악의적인 트래픽이 사내로 유입되는 경로가 될 수도 있다.

### 터널 보안에 대한 고려사항들

터널 게이트웨이는 통신하고 있는 프로토콜이 터널을 올바른 용도로 사용하고 있는지 검증할 방법이 없다.   
터널의 오용을 최소화하기 위해서, 게이트웨이는 HTTPS 전용 포트인 443 같이 잘 알려진 특정 포트만을 터널링할 수 있게 허용해야 한다.

<br />

## 릴레이

HTTP 릴레이는 HTTP 명세를 완전히 준수하지는 않는 간단한 HTTP vmfkrtlek.
