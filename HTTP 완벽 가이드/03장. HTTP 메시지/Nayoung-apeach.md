# 03. HTTP 메시지

### **3.1 메시지의 흐름**

- 이 메시지는 클라이언트, 서버, 프락시 사이를 흐른다.
- 인바운드, 아웃바운드, 업스트림, 다운스트림은 메시지의 방향을 의미하는 용어다.

**📝3.1.1 메시지는 원 서버 방향을 인바운드로 하여 송신된다.**

- 메시지가 원 서버로 향하는 것은 인바운드로 이동하는 것이고
- 모든 처리가 끝난 뒤에 메시지가 사용자 에이전트로 돌아오는 것은 아웃바운드로 이동하는 것이다.

**📝3.1.2 다운스트림으로 흐르는 메시지**

- HTTP 메시지는 강물과 같이 흐른다.
- 요청 메시지나 응답 메시지냐에 관계없이 모든 메시지는 다운스트림으로 흐른다.

### 3.2 메시지의 각 부분

**📝HTTP 메시지는 단순한, 데이터의 구조화된 블록이다.**

- 메시지는 시작줄, 헤더, 블록, 본문 이렇게 세 부분으로 이루어진다.
- 시작줄은 이것이 어떤 메시지인지 서술한다.
- 헤더 블록은 속성을, 본문은 데이터를 담고있다.
- 본문은 아예 없을 수도 있다.

**📝3.2.1 메시지 문법**

- 요청 메시지의 형식

```
<메서드> <요청 URL> <버전>
<헤더>

<엔터티 본문>
```

- 응답 메시지의 형식

```
<버전> <상태 코드> <사유 구절>
<헤더>

<엔터티 본문>
```

**📝 메서드**

- 클라이언트 측에서 서버가 리소스에 대해 수행해주길 바라는 동작이다.

**📝요청 URL**

- 요청 대상이 되는 리소스를 자칭하는 완전한 URL 혹은 URL의 경로 구성요소다.

**📝버전** 

- 이 메시지에서 사용 중인 HTTP의 버전이다.

**📝상태코드**

- 요청 중에 무엇이 일어났는지 설명하는 세 자리의 숫자다.

**📝사유 구절**

- 숫자로 된 상태 코드의 의미를 사람이 이해할 수 있게 설명해주는 짧은 문구로, 상태 코드 이후부터 줄바꿈 문자열까지가 사유 구절이다.

**📝헤더들** 

- 이름, 콜론, 선택적인 공백, 값, CULF가 순서대로 나타나는 0개 이상의 헤더들이다.
