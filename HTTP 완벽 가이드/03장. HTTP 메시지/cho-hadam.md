# [03장] HTTP 메시지

<br />

## 메시지의 흐름

### 메시지는 원 서버 방향을 인바운드로 하여 송신된다

**인바운드**   
메시지가 원 서버로 향하는 것

**아웃바운드**   
모든 처리가 끝난 뒤에 메시지가 사용자 에이전트로 돌아오는 것

### 다운스트림으로 흐르는 메시지

HTTP 메시지는 다운스트림으로 흐른다.

<br />

## 메시지의 각 부분

메시지는 시작줄, 헤더 블록, 본문 이렇게 세 부분으로 이루어진다.   
시작줄은 이것이 어떤 메시지인지 서술하며, 헤더 블록은 속성을, 본문은 데이터를 담고 있다.   
본문은 아예 없을 수도 있다.

### 메시지 문법

요청 메시지의 형식

> <메서드> <요청 URL> <버전>   
> <헤더>   
>   
> <엔터티 본문>

응답 메시지의 형식

> <버전> <상태 코드> <사유 구절>   
> <헤더>   
>   
> <엔터티 본문>

<br />

- 메서드   
클라이언트 측에서 서버가 리소스에 대해 수행해주길 바라는 동작

- 요청 URL   
요청 대상이 되는 리소스를 지칭하는 완전한 URL 혹은 URL의 경로 구성요소

- 버전   
이 메시지에서 사용 중인 HTTP의 버전

- 상태 코드   
요청 중에 무엇이 일어났는지 설명하는 세 자리의 숫자

- 사유 구절`reason-phrase`   
숫자로 된 상태 코드의 의미를 사람이 이해할 수 있게 설명해주는 짧은 문구

- 헤더들   
이름, `:`, 선택적인 공백, 값, CRLF가 순서대로 나타나는 0개 이상의 헤더들

- 엔터티 본문

<br />

## 헤더

- 일반 헤더   
요청과 응답 양쪽에 모두 나타날 수 있음

- 요청 헤더   
요청에 대한 부가 정보를 제공   
`Accept 헤더` 서버에게 서버가 보내도 되는 미디어 종류를 말해준다

- 응답 헤더   
응답에 대한 부가 정보를 제공

- Entity 헤더   
본문 크기와 콘텐츠, 혹은 리소스 그 자체를 서술

- 확장 헤더   
명세에 정의되지 않은 새로운 헤더

### 헤더를 여러 줄로 나누기

추가 줄 앞에는 최소 하나의 스페이스 혹은 탭 문자가 와야 한다.

<br />

## 메서드

- GET   
주로 서버에게 리소스를 달라고 요청하기 위해 쓰인다

- HEAD   
GET처럼 행동하지만, 서버는 응답으로 헤더만을 돌려준다

- PUT   
서버에 문서를 쓴다

- POST   
서버에 입력 데이터를 전송하기 위해 설계되었다

- TRACE   
클라이언트에게 자신의 요청이 서버에 도달했을 때 어떻게 보이게 되는지 알려준다

- OPTIONS   
웹 서버에게 여러 가지 종류의 지원 범위에 대해 물어본다

- DELETE   
서버에게 요청 URL로 지정한 리소스를 삭제할 것을 요청한다

- 확장 메서드   
HTTP는 필요에 따라 확장해도 문제가 없도록 설계되어 있으므로, 새로 기능을 추가해도 과거에 구현된 소프트웨어들의 오동작을 유발하지 않는다   
확장 메서드는 HTTP/1.1 명세에 정의되지 않은 메서드다

<br />

## 상태 코드

페이지 67 ~ 76쪽

- 100-199   
정보성 상태 코드

- 200-299   
성공 상태 코드

- 300-399   
리다이렉션 상태 코드

- 400-499   
클라이언트 에러 상태 코드

- 500-599   
서버 에러 상태 코드
