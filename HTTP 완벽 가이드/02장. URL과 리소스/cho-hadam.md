# [02장] URL과 리소스

<br />

## 인터넷의 리소스 탐색하기

### URL이 있기 전 암흑의 시대

웹과 URL이 있기 전에 사람들은 애플리케이션마다 달리 가지고 있는 분류 방식을 사용했다.   
URL은 온라인 세상을 단순화시킨다.

<br />

## URL 문법

URL 스킴 문법

> <스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>

|컴포넌트|설명|
|----------|---|
|스킴|어떤 프로토콜을 사용하여 서버에 접근해야 하는지|
|사용자 이름|리소스에 접근하기 위한 사용자 이름|
|비밀번호|사용자의 비밀번호|
|호스트|리소스를 호스팅하는 서버의 호스트 명이나 IP 주소|
|포트|리소스를 호스팅하는 서버가 열어놓은 포트번호|
|경로|서버 내 리소스가 서버 어디에 있는지|
|파라미터|특정 스킴들에서 입력 파라미터를 기술하는 용도|
|질의|스킴에서 애플리케이션에 파라미터를 전달하는데 사용|
|프래그먼트|리소스의 조각이나 일부분을 가리키는 이름|

### 스킴: 사용할 프로토콜

스킴은 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보다.   
애플리케이션이 어떤 프로토콜을 사용하여 리소스를 요청해야 하는지 알려준다.

대소문자를 가리지 않는다.

### 호스트와 포트

접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비를 호스트 명이나 IP 주소를 제공해 가리킨다.

### 사용자 이름과 비밀번호

많은 서버가 자신이 가지고 있는 데이터에 접근을 허용하기 전에 사용자 이름과 비밀번호를 요구한다.

값들이 삽입되어 있지 않을 경우 기본 사용자 이름과 비밀번호 값이 들어간다.

### 경로

리소스가 서버의 어디에 있는지 알려준다.

### 파라미터

많은 프로토콜이 리소스에 접근하기 위해 더 많은 정보를 요구한다.   
파라미터는 `이름/값` 쌍의 리스트로 URL 나머지 부분들로부터 `;` 문자로 구분하여 URL에 기술한다.

### 질의 문자열

데이터베이스 같은 서비스들은 요청받을 리소스 형식의 범위를 좁히기 위해서 질의문이나 질의를 받을 수 있다.   
`&`로 나뉜 `이름=값` 쌍 형식이다.

### 프래그먼트

리소스의 특정 부분을 가리킬 수 있도록, URL은 리소스 내의 조각을 가리킬 수 있는 프래그먼트 컴포넌트를 제공한다.   
프래그먼트는 URL 오른쪽에 `#` 문자에 이어서 온다.

<br />

## 단축 URL

### 상대 URL

URL은 상대 URL과 절대 URL 두 가지로 나뉜다.   
상대 URL은 URL을 짧게 표기하는 방식이다.

<img src="https://user-images.githubusercontent.com/52340070/129478684-895fd443-cb34-43b7-8eb8-4a918121655c.png" width=400 />

[그림 2-5] 상대 URL을 절대 URL로 변환하기

### URL 확장

어떤 브라우저들은 URL을 입력한 다음이나 입력하고 있는 동안에 자동으로 URL을 확장한다.

- 호스트 명 확장   
`yahoo`를 입력하면, `www.yahoo.com`을 만든다.

- 히스토리 확장   
`http://www.joes-`와 같이 이전에 방문했던 URL의 시작 부분을 입력하면, `http://www.joes-hardware.com`을 보여준다.

<br />

## 안전하지 않은 문자

안전한 전송이란, 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다.

URL은 상대적으로 작고 일반적으로 안전한 알파벳 문자만 포함하도록 허락한다.   
출력이 되지 않거나 보이지 않는 문자들을 사용하는 것은 금지되었다.   
알파벳 외의 문자도 포함하기 위해 이스케이프라는 기능을 추가하여, 안전하지 않은 문자를 안전한 문자로 인코딩할 수 있게 하였다.

### URL 문자 집합

역사적으로 많은 컴퓨터 애플리케이션이 US-ASCII 문자 집합을 사용해왔다.

URL이 특정 이진 데이터를 포함해야 하는 경우도 있어, 이스케이프 문자열을 쓸 수 있게 설계하였다.   
이스케이프 문자열은 US-ASCII에서 사용이 금지된 문자들로, 특정 문자나 데이터를 인코딩할 수 있게 함으로써 이동성과 완성도를 높였다.

### 인코딩 체계

인코딩은 안전하지 않은 문자를 `%`로 시작해, ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 **이스케이프** 문자로 바꾼다.

### 문자 제한

URL에서 예약된 문자들을 본래의 목적이 아닌 다른 용도로 사용하려면, 그 전에 반드시 인코딩해야 하는 문자들이다.

> % / . .. # ? ; : $ , + @ & = { } | \ ~ [ ] ` < > " 0x00-0x1F 0x7F > 0x7F

### 좀 더 알아보기

안전하지 않은 모든 문자를 인코딩하기만 하면, 다른 애플리케이션으로부터 특별한 의미를 가지는 문자를 받았을 때 혼동할 걱정 없이, 애플리케이션 간에 공유할 수 있는 URL의 원형을 유지할 수 있다.

<br />

## 스킴의 바다

페이지 44쪽, 부록 A
