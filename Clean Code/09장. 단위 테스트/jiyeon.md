## 9장 단위테스트

### TDD 법칙 세 가지
* **첫째 법칙** : 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다
* **둘째 법칙** : 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다
* **셋째 법칙** : 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다
* 실제 코드와 맞먹을 정도로 방대한 테스트 코드는 심각한 관리 문제를 유발한다
------------
### 깨끗한 코드 유지하기
* 테스트 코드가 지저분할수록 변경이 어려워진다
* 테스크 슈트가 없으면 시스템 이쪽을 수정해도 저쪽이 안전하다는 사실을 검증하지 못해 결함율이 높아진다
* **테스트 코드는 실제 코드 못지 않게 중요하다**
#### 테스트는 유연성, 재사용성을 제공한다
* 단위 테스트 : 코드에 유연성, 유지보수성, 재사용성을 제공하는 버팀목
* 테스트 코드가 지저분하면 코드를 변경하는 능력이 떨어지고, 코드 구조를 개선하는 능력도 떨어지며, 실제 코드도 지저분해진다
------------
### 깨끗한 테스트 코드
* 깨끗한 테스트 코드를 만드는 세 가지
  1. 가독성
  2. 가독성
  3. 가독성
* 테스트 코드는 최소의 표현으로 많은 것을 나타내야 한다
* 테스트 코드는 진짜 필요한 자료 유형과 함수만 사용한다
#### 도메인에 특화된 테스트 언어
* 테스트 언어 : 테스트를 구현하는 당사자와 나중에 테스트를 읽어볼 독자를 도와주는 언어
* 테스트 API는 처음부터 설계된 것이 아니라 잡다하고 세세한 사항으로 범벅된 코드를 계속 리팩터링하여 진화된 API이다
#### 이중 표준
* 단순하고, 간결하고, 표현력이 풍부해야 하지만, 실제 코드만큼 효율적일 필요는 없다
* 실제 환경에서는 절대로 안 되지만 테스트 환경에서는 문제 없다
------------
### 테스트 당 assert 하나
* assert 문이 단 하나인 함수 : 결론이 하나라 코드를 이해하기 쉽고 빠르다
* assert 문 개수는 최대한 줄여야 좋다
------------
### F.I.R.S.T
1. **F**ast(빠르게) : 테스트는 빨리 돌아야한다
2. **I**ndependent(독립적으로) : 각 테스트는 서로 의존해서는 안되며, 어떤 순서로 실행해도 괜찮아야 한다
3. **R**epeatable(반복가능하게) : 어떤 환경에서도 반복 가능해야 한다
4. **S**elf-Vaaldating(자가검증하는) : bool 값을 결과로 내야하며, 통과 여부를 알려고 로그 파일을 읽게 만들어서는 안된다
5. **T**imely(적시에) : 적시에 작성 해야한다 / 단위 테스트는 테스트 하려는 실제 코드를 구현하기 직전에 구현한다
------------
### 결론 
* 테스트 코드는 실제 코드의 유연성, 유지 보수성, 재사용성을 보존하고 강화하기 때문에 지속적으로 깨끗하게 관리하며 표현력을 높이고 간결하게 정리해야 한다
* 테스트 코드가 방치되어 망가진다면 실제 코드도 망가진다
