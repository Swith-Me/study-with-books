# 9. 단위 테스트🖍

### TDD 법칙 세 가지

☑**TDD가 실제 코드를 짜기 전에 단위 테스트부터 짜라고 요구한다.**

- 첫째 법칙 : 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
- 둘째 법칙 : 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
- 셋째 법칙 : 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

**이렇게 일하면 실제 코드를 사실상 전부 테스트하는 테스트 케이스가 나온다.**

**하지만 실제 코드와 맞먹을 정도로 방대한 테스트 코드는 심각한 관리 문제를 유발하기도 한다.**

### 깨끗한 테스트 코드 유지하기

☑**테스트는 유연성, 유지보수성, 재사용성을 제공한다.**

- 테스트 코드를 깨끗하게 유지하지 않으면 결국 잃어버린다.
- 테스트 케이스가 있어야 안심하고 아키텍처와 설계를 개선할 수 있다.

### 깨끗한 테스트 코드

☑**가독성, 가독성, 가독성**

- 명료성
- 단순성
- 풍부한 표현력이 필요하다.

☑**도메인에 특화된 테스트 언어**

- API위에다 함수와 유틸리티를 구현한 후 그 함수와 유틸리티를 사용하므로 테스트 코드를 짜기도 읽기도 쉬워진다.
- 숙련된 개발자라면 자기 코드를 좀 더 간결하고 표현력이 풍부한 코드로 리팩터링 해야 마땅하다.

☑**이중표현**

- 테스트API코드에 적용하는 표준은 실제 코드에 적용하는 표준과 확실히 다르다.
- 간결하고, 표현력이 풍부해야 하지만, 실제 코드만큼 효율적일 필요는 없다.

### F.I.R.S.T

☑**깨끗한 테스트는 다음 다섯 가지 규칙을 따른다.**

F : 빠르게, 테스트는 빨라야 한다.

I :독립적으로, 각 테스트는 서로 의존하면 안 된다.

R:반복가능하게, 테스트는 어떤 환경에서도 반복 가능해야 한다.

S:자가검증하는, 테스트는 부울값으로 결과를 내야 한다.

T:적시에, 테스트는 적시에 작성해야 한다.

### 결론

- 테스트 코드는 실제 코드만큼이나 프로젝트 건강에 중요하다.
- 테스트 코드는 실제 코드의 유연성, 유지보수성, 재사용성을 보존하고 강화하기 때문이다.
- 테스트 API를 구현해 도메인 특화 언어를 만들어야 한다.

### 기억에 남는 구절 📖

> 테스트 코드가 방치되어 망가지면 실제 코드도 망가진다. 테스트 코드를 깨끗하게 유지하자.
