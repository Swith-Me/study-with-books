# 📗 06장. 객체와 자료 구조

<br />

## 자료 추상화

- 추상 인터페이스를 제공해 사용자가 구현을 모른 채 자료의 핵심을 조작할 수 있어야 진정한 의미의 클래스다

- 자료를 세세하게 공개하기보다는 추상적인 개념으로 표현하는 편이 좋다

<br />

## 자료/객체 비대칭

객체와 자료 구조는 근본적으로 양분된다 (반대다)

### 객체

추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개한다

### 자료 구조

자료를 그대로 공개하며 별다른 함수는 제공하지 않는다

<br />

## 디미터 법칙

모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다

**클래스 C의 메서드 f는 다음과 같은 객체의 메서드만 호출해야 한다**
- 클래스C
- f가 생성한 객체
- f 인수로 넘어온 객체
- C 인스턴스 변수에 저장된 객체

하지만 위 객체에서 허용된 메서드가 반환하는 객체의 메서드는 호출하면 안 된다

### 기차 충돌

```java
final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
```

### 잡종 구조

절반은 객체, 절반은 자료 구조인 것을 말한다   
**단점**만 모아놓은 구조다

### 구조체 감추기

객체라면 **뭔가를 하라고** 말해야지 속을 드러내라고 말하면 안 된다

디렉터리의 절대 경로를 얻으려는 (기차 충돌 코드) 이유는   
임시 파일을 생성하기 위한 목적이기 때문에 다음과 같이 임시 파일을 생성하라고 시킬 수 있다
```java
BufferedOutputStream bos = ctxt.createScratchFileStream(classFileName);
```

<br />

## 자료 전달 객체 (DTO)

자료 구조체의 전형적인 형태는 공개 변수만 있고 함수가 없는 클래스다   
이를 자료 전달 객체(DTO)라고 하기도 한다

### 빈(bean) 구조

좀 더 일반적인 형태로, private 변수를 getter, setter 함수로 조작한다

### 활성 레코드

DTO의 특수한 형태로, save나 find와 같은 탐색 함수도 제공한다   
활성 레코드는 자료 구조로 취급한다

<br />

## 결론

### 객체

- 동작을 공개하고 자료를 숨긴다
- 기존 동작을 변경하지 않으면서 새 객체 타입을 추가하기는 쉽다
- 기존 객체에 새 동작을 추가하기는 어렵다

새로운 자료 타입을 추가하는 유연성이 필요하면 객체가 더 적합하다

### 자료 구조

- 별다른 동작 없이 자료를 노출한다
- 기존 함수에 새 자료 구조를 추가하기는 어렵다
- 기존 자료 구조에 새 동작을 추가하기는 쉽다

새로운 동작을 추가하는 유연성이 필요하면 자료 구조와 절차적인 코드가 더 적합하다

<br />

## ❓ 몰랐던 것

**Cartesian Coordinate**   
(x, y)로 나타내는 직교좌표계

**Polar coordinate**   
(r, θ)로 나타내는 극좌표계

**theta** 세타(θ)
