# 11장 시스템
>시스템 수준에서도 꺠끗함을 유지하는 방법
## 시스템 제작과 시스템 사용을 분리하라
**제작**은 **사용**과 아주 다르다.
* 소프트웨어 시스템은 준비 과정과 런타임 로직을 분리해야 한다.
* 시작 단계는 모든 애플리케이션이 풀어야 할 **관심사**다
* **관심사 분리**는 우리 분야에서 가장 오래되고 가장 중요한 설계 기법 중 하나다.

#### Main 분리
> **시스템 생성과 시스템 사용을 분리하는 한 가지 방법** <br/>

 생성과 관련한 코드는 모두 main이나 main이 호출하는 모듈로 옮기고, <br/> 나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정한다.

#### 팩토리
때로는 객체가 생성되는 **시점**을 애플리케이션이 결정할 필요가 생긴다.


#### 의존성 주입
> 사용과 제작을 분리하는 강력한 메커니즘 하나가 **의존성 주입** <br/>
> 제어 역전 기법을 의존성 관리에 적용한 메커니즘

## 확장
한 객체에서 다른 객체로 자료를 복사하는 반복적인 규격 코드가 필요하다.
#### 횡단 관심사

## 자바 프록시
* 단순한 상황에 적합하다. <br/>

개별 객체나 클래스에서 메서드 호출을 감싸는 경우가 좋은 예다

## 순수 자바 AOP 프레임워크
대부분의 프록시 코드는 판박이라 도구로 자동화할 수 있다. 

## AspectJ 관점
> 관심사를 관점으로 분리하는 가장 강력한 도구는 AspectJ 언어다

## 테스트 주도 시스템 아키텍처 구축
* 관점으로 관심사를 분리하는 방식은 그 위력이 막강하다. <br/>

코드 수준에서 아키텍처 관심사를 분리할 수 있따면 진정한 **테스트 주도** 아키텍처 구축이 가능해진다.

##### 책에서 지금까지의 한 이야기를 요학하면 다음과 같다고 써있다. 이해가 잘 안되는 부분이기에 함께 첨부한다.
```
최선의 시스템 구조는 각기 POJO 객체로 구현되는 모듈화된 관심사 영역(도메인)으로 구성된다.
이렇게 서로 다른 영역은 해당 영역 코드에 최소한의 영향을 미치는 관점이나 유사한 도구를 사용해 통합한다. 
이런 구조 역시 코드와 마찬가지로 테스트 주도 기법을 적용할 수 있다.
```

## 의사 결정을 최적화 해라
가능한 마지막 순간까지 결저을 미루는 방법이 최선일 수 있다.

## 명백한 가치가 있을 떄 표준을 현명하게 사용하라.
표준을 사용하면
* 아이디어와 컴포넌트를 재사용하기 쉽다.
* 적절한 경험을 가진 사람을 구하기 쉽다.
* 좋은 아이디어를 캡슐화하기 쉽다.
* 컴포넌트를 엮기 쉽다 <br/>

하지만 때로는 표준을 만드는 시간이 너무 오래 걸려 없계가 기다리지 못한다. <br/>
아주 과장되게 표장된 표준에 집착해 고객 가치가 뒷전으로 밀려날 수 있다.

## 시스템은 도메인 특화 언어가 필요하다.
#### DSL은 간단한 스크립트 언어나 표준 언어로 구현한 API를 가리킨다.
DSL을 사용하면
* 도메인 전무가가 작성한 구조적인 산문처럼 읽힌다.
* 도메인을 잘못 구현할 가능성이 줄어든다
* 효과적으로 사용하면 추상화 수준을 코드 관용구나 디자인 패턴 이상으로 끌어올린다.

## 결론
* 시스템 역시 깨끗해야 한다.
* 시스템을 설계하든 개별 모듈을 설계하든, 실제로 **돌아가는 가장 단순한 수단**을 사용해야 한다는 사실을 명시하자.
**** 
#### 느낀점
* 의사 결정을 최대한 미루는 방법도 최선일 수 있다.
* 
