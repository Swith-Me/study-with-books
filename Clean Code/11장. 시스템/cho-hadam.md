# 📗 11장. 시스템

<br />

## 시스템 제작과 시스템 사용을 분리하라

소프트웨어 시스템은 준비 과정과 런타임 로직을 분리해야 한다

### Main 분리

시스템 생성과 시스템 사용을 분리하는 한 가지 방법이다

생성과 관련된 코드는 모두 main이나 main이 호출하는 모듈로 옮기고,   
나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정한다

![image](https://user-images.githubusercontent.com/52340070/126896443-be85aa4c-c0bc-4a1a-839a-ee36124e5a59.png)

### 팩토리

객체가 생성되는 시점을 애플리케이션이 결정할 필요가 생기면   
ABSTRACT FACTORY 패턴을 사용한다

![image](https://user-images.githubusercontent.com/52340070/126896471-e86ca526-09a8-4960-8dbc-c3a593427ec7.png)

### 의존성 주입

제어 역전```Inversion of Control, IoC``` 기법을 의존성 관리에 적용한 매커니즘이다

<br />

## 테스트 주도 시스템 아키텍처 구축

아주 단순하면서도 멋지게 분리된 아키텍처로 소프트웨어 프로젝트를 진행해 결과물을 재빨리 출시한 후, 기반 구조를 추가하며 조금씩 확장해 나가도 괜찮다

<br />

## 의사 결정을 최적화하라

때때로 가능한 마지막 순간까지 결정을 미루는 방법이 최대한 정보를 모아 최선의 결정을 내리기 위한 최선의 사실일 수 있다

<br />

## 명백한 가치가 있을 떄 표준을 현명하게 사용하라

- 아이디어와 컴포넌트를 재사용하기 쉽다
- 적절한 경험을 가진 사람을 구하기 쉽다
- 좋은 아이디어를 캡슐화하기 쉽다
- 컴포넌트를 엮기 쉽다

* 표준을 만드는 시간이 너무 오래 걸려 업계가 기다리지 못한다
* 표준을 제정한 목적을 잊어버리기도 한다

<br />

## 시스템은 도메인 특화 언어가 필요하다

DSL```Domain-Specific Language```은 간단한 스크립트 언어나 표준 언어로 구현한 API를 가리킨다

- 도메인 전문가가 작성한 구조적인 산문처럼 읽힌다
- 도메인을 잘못 구현할 가능성이 줄어든다

<br />

## 몰랐던 것

**Lazy Initialization**   
실제로 필요할 때까지 객체를 생성하지 않는 것

**추상 팩토리 패턴**   
상세화된 서브클래스를 정의하지 않고도 서로 관련성이 있거나 독립적인 여러 객체의 군을 생성하기 위한 인터페이스를 제공

<br />

## 기억에 남은 부분

> _'처음부터 올바르게' 시스템을 만들 수 있다는 믿음은 미신이다_

<br />

## TODO

- [ ] 확장
- [ ] 자바 프록시
- [ ] 순수 자바 AOP 프레임워크
- [ ] AspectJ 관점
