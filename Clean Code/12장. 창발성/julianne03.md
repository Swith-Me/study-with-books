## 12. 창발성

### 창발적 설계로 깔끔한 코드를 구현하자

- 우리들 대다수는 켄트 벡이 제시한 **단순한 설계 규칙 네 가지**가 소프트웨어 설계 품질을 크게 높여준다고 믿는다.
- 켄트 벡은 다음 규칙을 따르면 설계는 '단순하다'고 말한다.
- 아래의 목록은 중요도 순이다.

> 1. 모든 테스트를 실행한다.
> 2. 중복을 없앤다.
> 3. 프로그래머 의도를 표현한다.
> 4. 클래스와 메서드 수를 최소로 줄인다.

<br>

### 단순한 설계 규칙 1: 모든 테스트를 실행해라

- 무엇보다 먼저, 설계는 의도한 대로 돌아가는 시스템을 내놓아야 한다.
- 철저한 테스트가 가능한 시스템을 만들면 더 나은 설계가 얻어진다.
- 결합도를 낮춰 설계 품질을 높이기 위해 테스트 케이스를 많이 작성하자.

<br>

### 단순한 설계 규칙 2~4: 리팩터링

- 테스트 케이스를 모두 작성했다면 구체적으로 코드를 점진적으로 리팩터링 해나간다.
- 코드 몇 줄을 추가할 때마다 잠시 멈추고 설계를 조감한다.
- 그런 다음 테스트 케이스를 돌려 기존 기능을 깨뜨리지 않았다는 사실을 확인한다.
- 리팩터링 단계에서는 소프트웨어 설계 품질을 높이는 기법이라면 무엇이든 적용해도 괜찮다.

<br>

### 중복을 없애라

- 우수한 설계에서 중복은 커다란 적이다.
- 중복은 추가 작업, 추가 위험, 불필요한 복잡도를 뜻하기 때문이다.
- 깔끔한 시스템을 만들려면 단 몇 줄이라도 중복을 제거하겠다는 의지가 필요하다.
- '소규모 재사용'은 시스템 복잡도를 극적으로 줄여준다.

<br>

### 표현하라

- 자신이 이해하는 코드를 짜기는 쉽지만 나중에 코드를 유지보수할 사람이 코드를 깊이 이해할 가능성은 희박하다.
- 시스템을 이해하느라 보내는 시간은 점점 늘어나고 동시에 코드를 오해할 가능성도 점점 커진다.
- 코드는 **개발자의 의도를 분명히 표현해야 한다.**
- 개발자가 코드를 명백하게 짤수록 다른 사람이 그 코드를 이해하기 쉬워진다.
- 그래야 결함이 줄어들고 유지보수 비용이 적게 든다.

<br>

**<코드를 명백하게 짜기 위한 방법>**

1. 좋은 이름을 선택한다.
2. 함수와 클래스 크기를 가능한 줄인다.
3. 표준 명칭을 사용한다.
4. 단위 테스트 케이스를 꼼꼼히 작성한다.
5. 가장 중요한 방법은 **노력**이다. 위의 방법들을 활용하려고 노력하자.

<br>

### 클래스와 메서드 수를 최소로 줄여라

- 중복을 제거하고, 의도를 표현하고, SRP를 준수한다는 기본적인 개념도 극단으로 치달으면 득보다 실이 많아진다.
- 목표는 함수와 클래스 크기를 작게 유지하면서 동시에 시스템 크기도 작게 유지하는 데 있다.
- 하지만 이 규칙은 간단한 설계 규칙 네 개 중 우선순위가 가장 낮다.

<br>

### 결론

- 단순한 설계 규칙을 따른다면 (오랜 경험 후에야 익힐) 우수한 기법과 원칙을 단번에 활용할 수 있다.

<br>

### 느낀점

- 아무리 이런 설계 규칙을 안다고 해도 내가 직접 사용하지 않으면 결국 좋은 시스템을 만들 수 없을 것이다.
- 앞으로 실제 개발을 하면서 이러한 규칙들을 지켜 클린한 코드로 깨끗한 시스템을 만들어낼 것이다.
